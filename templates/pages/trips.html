{% extends 'base.html' %}

{% block title %}{{ 'Курси та подорожі' if lang == 'uk' else 'Courses & Trips' }} - Sea Life Yacht School{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <nav class="breadcrumb">
            <a href="{{ url_for('home') }}">{{ 'Головна' if lang == 'uk' else 'Home' }}</a>
            <span>/</span>
            <span>{{ 'Курси та подорожі' if lang == 'uk' else 'Courses & Trips' }}</span>
        </nav>
        <h1>{{ 'Курси та подорожі' if lang == 'uk' else 'Courses & Trips' }}</h1>
        <p>{{ 'Оберіть свою пригоду — від навчальних курсів до захоплюючих морських експедицій' if lang == 'uk' else 'Choose your adventure — from training courses to exciting sea expeditions' }}</p>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="filters">
            <a href="{{ url_for('trips', type='all') }}" class="filter-btn {% if current_type == 'all' %}active{% endif %}">
                {{ 'Всі' if lang == 'uk' else 'All' }}
            </a>
            <a href="{{ url_for('trips', type='course') }}" class="filter-btn {% if current_type == 'course' %}active{% endif %}">
                {{ 'Курси' if lang == 'uk' else 'Courses' }}
            </a>
            <a href="{{ url_for('trips', type='trip') }}" class="filter-btn {% if current_type == 'trip' %}active{% endif %}">
                {{ 'Подорожі' if lang == 'uk' else 'Trips' }}
            </a>
            <a href="{{ url_for('trips', type='expedition') }}" class="filter-btn {% if current_type == 'expedition' %}active{% endif %}">
                {{ 'Експедиції' if lang == 'uk' else 'Expeditions' }}
            </a>
        </div>
        
        <div class="grid grid-3">
            {% for trip in trips %}
            <article class="trip-card">
                <div class="trip-card-image">
                    {% if trip.image %}
                    <img src="{{ url_for('static', filename='uploads/' + trip.image) }}" alt="{{ trip.title_uk if lang == 'uk' else trip.title_en }}">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1540946485063-a40da27545f8?w=600&q=80" alt="Yacht">
                    {% endif %}
                    <span class="trip-card-badge">{{ trip.trip_type }}</span>
                    {% if trip.has_active_discount() %}
                    <span class="trip-card-discount">-{{ trip.discount_percent }}%</span>
                    {% endif %}
                </div>
                <div class="trip-card-body">
                    <div class="trip-card-meta">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        {{ trip.start_date.strftime('%d.%m') }} - {{ trip.end_date.strftime('%d.%m.%Y') }}
                    </div>
                    <h3><a href="{{ url_for('trip_detail', trip_id=trip.id) }}">{{ trip.title_uk if lang == 'uk' else trip.title_en }}</a></h3>
                    <div class="trip-card-location">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                        {{ trip.location_uk if lang == 'uk' else trip.location_en }}
                    </div>
                    <div class="trip-card-footer">
                        <div class="trip-card-price">
                            {% if trip.has_active_discount() %}
                            <span class="old-price">€{{ trip.price|int }}</span>
                            {% endif %}
                            <span class="current-price">€{{ trip.get_current_price()|int }}</span>
                        </div>
                        <a href="{{ url_for('trip_detail', trip_id=trip.id) }}" class="btn btn-sm btn-outline">
                            {{ 'Детальніше' if lang == 'uk' else 'Details' }}
                        </a>
                    </div>
                </div>
            </article>
            {% else %}
            <div class="text-center" style="grid-column: 1/-1; padding: 4rem;">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="var(--gray-300)" stroke-width="1.5" style="margin-bottom: 1rem;">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 6v6l4 2"/>
                </svg>
                <h3 style="color: var(--gray-500); margin-bottom: 0.5rem;">{{ 'Поки немає пропозицій' if lang == 'uk' else 'No offers yet' }}</h3>
                <p class="text-muted">{{ 'Скоро тут з\'являться нові курси та подорожі' if lang == 'uk' else 'New courses and trips coming soon' }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}

